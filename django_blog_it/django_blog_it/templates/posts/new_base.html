{% extends 'new_base.html' %}
{% load static %}
{% load blog_tags %}
{% block title %} Home {% endblock %}
{% block extra_css %}
  <link rel="stylesheet" href="{% static 'css/frontend_main.css' %}" type="text/css">
{% endblock extra_css %}
{% block main_content %}
  <div class="row middle_container">
    <div class="main_left_container col-md-9 col-sm-8 col-xs-12">
      {% block blog_content %}
      {% endblock blog_content %}
    </div>
    <div class="main_right_container col-md-3 col-sm-4 col-xs-12">
      <!-- recent_posts starts here -->
      <div class="recent_posts_container">
        <div class="card mb-3">
          <div class="card-header bg-dark text-white">
            <h5>Recent Posts</h5>
          </div>
          <div class="card-body">
            {% for post in recent_posts %}
              <!-- recent_blog starts here -->
              <div class="blog_block">
                <div class="blog_title">
                  <h6 class="card-subtitle m-2 text-muted"><a href="{% url 'blog_post_view' blog_slug=post.slug %}">{{ post.title }}</a></h6>
                </div>
                <div class="blog_date m-2">
                  <a href="#" class="author"><i class="fa fa-user"></i> By {{ post.user }}</a>, 
                  <i class="fa fa-calendar"></i> {{ post.updated_on|date:"F d, Y" }}, 
                  <a href="{% url 'selected_category' category_slug=post.category.slug %}" class="category"><i class="fa fa-list"></i> {{ post.category }}</a>
                </div>
                <!-- <br clear="all">
                <div class="blog_content">
                  {{ post.content|safe|truncatewords_html:10 }}
                </div> -->
              </div>
              <!-- recent blog ends here -->
            {% endfor %}
          </div>
        </div>
      </div>
      <!-- recent_posts ends here -->
      <!-- categories starts here -->
      <div class="recent_posts_container">
        <div class="card mb-3">
          <div class="card-header bg-dark text-white">
            <h5>Categories</h5>
          </div>
          <div class="card-body">
            <ul class="category_list m-2">
              {% for category in categories_list %}
                <li class="cat-item cat-item-2"><a href="{% url 'selected_category' category_slug=category.slug %}">{{ category }} ({{ category|category_posts }})</a></li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
      <!-- categories ends here -->
      <!-- Blog-posts starts here -->
      <div class="recent_posts_container">
        <div class="card mb-3">
          <div class="card-header bg-dark text-white">
            <h5>Blog-Posts</h5>
          </div>
          <div class="card-body">
            <ul class="category_list m-2">
              {% get_archives as archives %}
              {% for archive in archives %}
                <li><a href="{% url 'archive_posts' year=archive|date:'Y' month=archive|date:'m' %}">{{ archive|date:"F Y" }}</a></li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>
      <!-- Blog-posts ends here -->
      <!-- tags starts here -->
      <div class="recent_posts_container">
        <div class="card mb-3">
          <div class="card-header bg-dark text-white">
            <h5>Tags</h5>
          </div>
          <div class="card-body">
            <div class="tags_block m-2">
              {% for tag in tags_list %}
                <a href="{% url 'selected_tag' tag_slug=tag.slug %}"><i class="fa fa-tag"></i> {{ tag }}</a>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
      <!-- tags ends here -->
    </div>
  </div>
{% endblock main_content %}