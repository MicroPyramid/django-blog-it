{% extends 'base.html' %}
    {% block extra_css %}
    <style type="text/css">
        table td {
            padding: 6px;
        }
    </style>
    {% endblock %}
    {% block content %}
    <div class="container">

        <div class="row">
            <p class="lead"><a href="{% url 'blog:blog_add' %}" ><button class="btn btn-default">Add Blog</button></a></p>
        <!-- end div of add blog button -->
        </div>

        <div class="row">
            <table class="table table-bordered table-hover">
                <thead>
                    <th>S.No</th>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Status</th>
                    <th colspan="3">Actions</th>
                </thead>

                {% for blog in blog_list %}
                    <tbody>
                        <tr>
                            <td>{{ forloop.counter }}</td>
                            <td>{{ blog.title }}</td>
                            <td>{{ blog.user }}</td>
                            <td id="blog_status"><i class=""></i> {{ blog.status }}</td>
                            <td><a href="{% url 'blog:view_blog' blog_id=blog.id %}" ><button class="btn btn-primary"><i class="fa fa-list"></i> View</button></a></td>
                            <td><a href="{% url 'blog:edit_blog' blog_id=blog.id %}"><button class="btn btn-info"><i class="fa fa-edit"></i> Edit</button></a></td>
                            <td><a href="{% url 'blog:delete_blog' blog_id=blog.id %}"><button class="btn btn-danger"><i class="fa fa-trash-o"></i> Delete</button></a></td>
                        </tr>
                    </tbody>

                {% endfor %}
            </table>
            <!-- end div of table -->
        </div>
    <!-- end div of container -->
    </div>
    {% endblock %}
    {% block js_script %}
        <script type="text/javascript">
            $('table tr td:nth-child(4)').each(function(){
                var status_val = $(this).text();
                console.log(status_val);
                if(status_val == ' D'){
                    $(this).children('i').attr('class',"fa fa-file-o");
                }
                else if(status_val == ' P'){
                    $(this).children('i').attr('class',"fa fa-thumbs-up");
                }
                else if(status_val == ' T'){
                    $(this).children('i').attr('class',"fa fa-thumbs-down");
                }
            });
            console.log($('#blog_status').text());

        </script>
    {% endblock %}